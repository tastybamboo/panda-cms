<%= render Panda::Core::Admin::ContainerComponent.new do |component| %>
  <% component.heading(text: "Files", level: 1) %>

  <% component.slideover(title: "File Details") do %>
    <div class="pt-4 pb-16 space-y-6" data-file-gallery-target="slideoverContent">
      <% if @selected_file %>
        <%= render partial: "file_details", locals: { file: @selected_file } %>
      <% else %>
        <p class="text-sm text-gray-500">Select a file to view details</p>
      <% end %>
    </div>
  <% end %>

  <% component.tab_bar(tabs: [
    { name: "Recently Viewed", url: admin_files_path(filter: "recently_viewed"), current: @filter == "recently_viewed" },
    { name: "Recently Added", url: admin_files_path(filter: "recently_added"), current: @filter == "recently_added" },
    { name: "Favourited", url: admin_files_path(filter: "favourited"), current: @filter == "favourited" }
  ]) %>

  <div data-controller="file-gallery">
    <%= render Panda::Core::Admin::FileGalleryComponent.new(files: @files, selected_file: @selected_file) %>
  </div>
<% end %>
