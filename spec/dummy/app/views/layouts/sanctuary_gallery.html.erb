<%# The Panda Sanctuary - Gallery/Our Pandas Layout %>
<%= render "shared/sanctuary_header" %>

<main>
  <%# Page Header %>
  <div class="bg-gradient-to-br from-green-50 to-white">
    <div class="mx-auto max-w-7xl px-6 py-16 lg:px-8">
      <%# Breadcrumbs %>
      <nav class="mb-4" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2 text-sm text-gray-500">
          <li><a href="/" class="hover:text-green-700 transition">Home</a></li>
          <li class="flex items-center gap-2">
            <i class="fa-solid fa-chevron-right text-xs text-gray-400"></i>
            <span class="text-gray-900"><%= @page&.title %></span>
          </li>
        </ol>
      </nav>

      <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">
        <%= @page&.title %>
      </h1>

      <p class="mt-4 text-xl text-gray-600 max-w-3xl">
        <%= render Panda::CMS::TextComponent.new(key: :intro_text, editable: true) %>
      </p>

      <%# Filter tabs %>
      <div class="mt-8 flex flex-wrap gap-2">
        <a href="/our-pandas" class="rounded-full bg-green-700 px-4 py-2 text-sm font-medium text-white">
          All Pandas
        </a>
        <a href="/our-pandas/giant-pandas" class="rounded-full bg-white px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50 transition">
          Giant Pandas
        </a>
        <a href="/our-pandas/red-pandas" class="rounded-full bg-white px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200 hover:bg-gray-50 transition">
          Red Pandas
        </a>
      </div>
    </div>
  </div>

  <%# Pandas Grid %>
  <section class="py-16 bg-white">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
        <%# Panda Card Template - would be repeated for each panda %>
        <% pandas = [
          { name: "Mei Mei", type: "Giant Panda", age: 3, personality: "Playful and curious" },
          { name: "Bao Bao", type: "Giant Panda", age: 8, personality: "Gentle and calm" },
          { name: "Ling Ling", type: "Giant Panda", age: 5, personality: "Energetic and adventurous" },
          { name: "Rusty", type: "Red Panda", age: 4, personality: "Shy but sweet" },
          { name: "Scarlet", type: "Red Panda", age: 2, personality: "Bold and inquisitive" },
          { name: "Maple", type: "Red Panda", age: 6, personality: "Relaxed and friendly" }
        ] %>

        <% pandas.each do |panda| %>
          <article class="group relative bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 overflow-hidden hover:shadow-xl transition-shadow duration-300">
            <div class="aspect-square bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center relative">
              <i class="fa-solid fa-paw text-6xl text-green-600/50"></i>
              <%# Type badge %>
              <span class="absolute top-4 right-4 inline-flex items-center gap-1 rounded-full <%= panda[:type] == 'Giant Panda' ? 'bg-black/80' : 'bg-orange-600/90' %> px-3 py-1 text-xs font-medium text-white">
                <%= panda[:type] %>
              </span>
            </div>
            <div class="p-6">
              <h3 class="text-xl font-bold text-gray-900 group-hover:text-green-700 transition">
                <%= panda[:name] %>
              </h3>
              <p class="mt-1 text-sm text-gray-500">
                <%= panda[:age] %> years old
              </p>
              <p class="mt-3 text-sm text-gray-600">
                <%= panda[:personality] %>
              </p>
              <div class="mt-4 flex gap-2">
                <a href="/our-pandas/<%= panda[:name].downcase.gsub(' ', '-') %>" class="flex-1 rounded-md bg-green-700 px-3 py-2 text-center text-sm font-semibold text-white hover:bg-green-800 transition">
                  Meet <%= panda[:name] %>
                </a>
                <a href="/adopt?panda=<%= panda[:name].downcase.gsub(' ', '-') %>" class="rounded-md border border-green-700 px-3 py-2 text-sm font-semibold text-green-700 hover:bg-green-50 transition" title="Adopt <%= panda[:name] %>">
                  <i class="fa-solid fa-heart"></i>
                </a>
              </div>
            </div>
          </article>
        <% end %>
      </div>
    </div>
  </section>

  <%# Additional Content %>
  <section class="bg-gray-50 py-16">
    <div class="mx-auto max-w-3xl px-6 lg:px-8">
      <div class="prose prose-green prose-lg max-w-none">
        <%= render Panda::CMS::RichTextComponent.new(key: :main_content, editable: true) %>
      </div>
    </div>
  </section>

  <%# CTA Section %>
  <section class="bg-green-800 py-16">
    <div class="mx-auto max-w-7xl px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-white">Support Our Pandas</h2>
      <p class="mt-4 text-lg text-green-100 max-w-2xl mx-auto">
        Your adoption helps fund bamboo, medical care, and habitat enrichment for our pandas.
      </p>
      <div class="mt-8 flex justify-center gap-4">
        <a href="/adopt" class="rounded-md bg-white px-6 py-3 text-sm font-semibold text-green-800 hover:bg-green-50 transition">
          <i class="fa-solid fa-heart mr-2"></i>
          Adopt a Panda
        </a>
        <a href="/donate" class="rounded-md border border-white px-6 py-3 text-sm font-semibold text-white hover:bg-white/10 transition">
          Make a Donation
        </a>
      </div>
    </div>
  </section>

  <%= yield %>
</main>

<%= render "shared/sanctuary_footer" %>
