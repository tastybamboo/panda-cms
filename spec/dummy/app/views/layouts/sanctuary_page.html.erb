<%# The Panda Sanctuary - Standard Page Layout %>
<%= render "shared/sanctuary_header" %>

<main>
  <%# Page Header %>
  <div class="bg-gradient-to-br from-green-50 to-white">
    <div class="mx-auto max-w-7xl px-6 py-16 lg:px-8">
      <%# Breadcrumbs %>
      <nav class="mb-4" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2 text-sm text-gray-500">
          <li><a href="/" class="hover:text-green-700 transition">Home</a></li>
          <% if @page&.parent && @page.parent.path != "/" %>
            <li class="flex items-center gap-2">
              <i class="fa-solid fa-chevron-right text-xs text-gray-400"></i>
              <a href="<%= @page.parent.path %>" class="hover:text-green-700 transition"><%= @page.parent.title %></a>
            </li>
          <% end %>
          <li class="flex items-center gap-2">
            <i class="fa-solid fa-chevron-right text-xs text-gray-400"></i>
            <span class="text-gray-900"><%= @page&.title %></span>
          </li>
        </ol>
      </nav>

      <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">
        <%= @page&.title %>
      </h1>

      <% if @page&.seo_description.present? %>
        <p class="mt-4 text-xl text-gray-600 max-w-3xl">
          <%= @page.seo_description %>
        </p>
      <% end %>
    </div>
  </div>

  <%# Main Content %>
  <div class="mx-auto max-w-7xl px-6 py-12 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
      <%# Main content area (2/3 width on desktop) %>
      <div class="lg:col-span-2">
        <div class="prose prose-green prose-lg max-w-none">
          <%= render Panda::CMS::RichTextComponent.new(key: :main_content, editable: true) %>
        </div>

        <%# Secondary content block - renders if block exists in template %>
        <%= render Panda::CMS::RichTextComponent.new(key: :secondary_content, editable: true) rescue nil %>
      </div>

      <%# Sidebar (1/3 width on desktop) %>
      <aside class="lg:col-span-1">
        <%# Quick Links Card %>
        <div class="bg-green-50 rounded-2xl p-6">
          <h2 class="text-lg font-semibold text-gray-900 mb-4">
            <i class="fa-solid fa-link text-green-700 mr-2"></i>
            Quick Links
          </h2>
          <nav class="space-y-2">
            <a href="/visit/tickets" class="flex items-center gap-2 text-sm text-gray-700 hover:text-green-700 transition">
              <i class="fa-solid fa-ticket text-green-600"></i>
              Book Tickets
            </a>
            <a href="/our-pandas" class="flex items-center gap-2 text-sm text-gray-700 hover:text-green-700 transition">
              <i class="fa-solid fa-paw text-green-600"></i>
              Meet Our Pandas
            </a>
            <a href="/visit/hours" class="flex items-center gap-2 text-sm text-gray-700 hover:text-green-700 transition">
              <i class="fa-solid fa-clock text-green-600"></i>
              Opening Hours
            </a>
            <a href="/about/contact" class="flex items-center gap-2 text-sm text-gray-700 hover:text-green-700 transition">
              <i class="fa-solid fa-envelope text-green-600"></i>
              Contact Us
            </a>
          </nav>
        </div>

        <%# Adopt CTA %>
        <div class="mt-6 bg-gradient-to-br from-green-700 to-green-800 rounded-2xl p-6 text-white">
          <div class="text-center">
            <i class="fa-solid fa-heart text-3xl text-green-300 mb-3"></i>
            <h3 class="text-lg font-semibold">Adopt a Panda</h3>
            <p class="mt-2 text-sm text-green-100">Support our conservation work and receive exclusive updates.</p>
            <a href="/adopt" class="mt-4 inline-flex items-center gap-2 rounded-md bg-white px-4 py-2 text-sm font-semibold text-green-700 hover:bg-green-50 transition">
              Adopt Today
              <i class="fa-solid fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <%= yield %>
</main>

<%= render "shared/sanctuary_footer" %>
