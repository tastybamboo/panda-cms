<%# The Panda Sanctuary - Adoption Page Layout %>
<%= render "shared/sanctuary_header" %>

<main>
  <%# Hero Section with Panda Image %>
  <div class="relative bg-gradient-to-br from-green-800 to-green-950 text-white overflow-hidden">
    <div class="absolute inset-0">
      <%= image_tag "https://raw.githubusercontent.com/tastybamboo/tastybamboo.net/main/assets/images/demo/pandas/panda-bamboo-closeup.jpg", class: "w-full h-full object-cover opacity-20", alt: "Adopt a panda" %>
    </div>
    <div class="absolute inset-0 bg-gradient-to-br from-green-900/90 to-green-950/90"></div>

    <div class="relative mx-auto max-w-7xl px-6 py-24 lg:px-8">
      <nav class="mb-4" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2 text-sm text-green-100">
          <li><a href="/" class="hover:text-white transition">Home</a></li>
          <li class="flex items-center gap-2">
            <i class="fa-solid fa-chevron-right text-xs text-green-300"></i>
            <span class="text-white">Adopt a Panda</span>
          </li>
        </ol>
      </nav>

      <h1 class="text-4xl font-bold tracking-tight sm:text-6xl">
        Adopt a Panda
      </h1>
      <p class="mt-6 text-xl leading-8 text-green-100 max-w-2xl">
        Help us care for our pandas and support vital conservation work through our adoption programme.
      </p>
    </div>
  </div>

  <%# Introduction Section %>
  <div class="bg-white py-16 px-6 lg:px-8">
    <div class="mx-auto max-w-4xl">
      <div class="prose prose-green prose-lg max-w-none">
        <%= render Panda::CMS::RichTextComponent.new(key: :main_content, editable: false) %>
      </div>
    </div>
  </div>

  <%# Adoption Packages %>
  <div class="bg-gray-50 py-16 px-6 lg:px-8">
    <div class="mx-auto max-w-7xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900">Choose Your Adoption Package</h2>
        <p class="mt-4 text-lg text-gray-600">All packages include updates, photos, and a certificate</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <%# Bronze Package %>
        <div class="bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-8">
          <div class="mb-4">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-amber-100">
              <i class="fa-solid fa-medal text-amber-600 text-xl"></i>
            </div>
          </div>
          <h3 class="text-xl font-bold text-gray-900">Bronze</h3>
          <p class="mt-2 text-3xl font-bold text-gray-900">£35<span class="text-base font-normal text-gray-500">/year</span></p>
          <ul class="mt-6 space-y-3 text-sm text-gray-600">
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Adoption certificate</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Quarterly updates</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Photo pack</span>
            </li>
          </ul>
        </div>

        <%# Silver Package %>
        <div class="bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-8">
          <div class="mb-4">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-gray-100">
              <i class="fa-solid fa-medal text-gray-400 text-xl"></i>
            </div>
          </div>
          <h3 class="text-xl font-bold text-gray-900">Silver</h3>
          <p class="mt-2 text-3xl font-bold text-gray-900">£60<span class="text-base font-normal text-gray-500">/year</span></p>
          <ul class="mt-6 space-y-3 text-sm text-gray-600">
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>All Bronze benefits</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Monthly updates</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Plush panda toy</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>10% gift shop discount</span>
            </li>
          </ul>
        </div>

        <%# Gold Package - Popular %>
        <div class="bg-white rounded-2xl shadow-md ring-2 ring-green-500 p-8 relative">
          <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
            <span class="inline-flex items-center gap-1 rounded-full bg-green-500 px-3 py-1 text-xs font-semibold text-white">
              <i class="fa-solid fa-star text-xs"></i>
              Popular
            </span>
          </div>
          <div class="mb-4">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-yellow-100">
              <i class="fa-solid fa-medal text-yellow-600 text-xl"></i>
            </div>
          </div>
          <h3 class="text-xl font-bold text-gray-900">Gold</h3>
          <p class="mt-2 text-3xl font-bold text-gray-900">£100<span class="text-base font-normal text-gray-500">/year</span></p>
          <ul class="mt-6 space-y-3 text-sm text-gray-600">
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>All Silver benefits</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Behind-the-scenes tour</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Framed photo</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>20% gift shop discount</span>
            </li>
          </ul>
        </div>

        <%# Platinum Package %>
        <div class="bg-white rounded-2xl shadow-sm ring-1 ring-gray-200 p-8">
          <div class="mb-4">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-100">
              <i class="fa-solid fa-crown text-purple-600 text-xl"></i>
            </div>
          </div>
          <h3 class="text-xl font-bold text-gray-900">Platinum</h3>
          <p class="mt-2 text-3xl font-bold text-gray-900">£250<span class="text-base font-normal text-gray-500">/year</span></p>
          <ul class="mt-6 space-y-3 text-sm text-gray-600">
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>All Gold benefits</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>VIP panda experience day</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Annual family pass</span>
            </li>
            <li class="flex items-start gap-2">
              <i class="fa-solid fa-check text-green-600 mt-0.5"></i>
              <span>Exclusive merchandise</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <%# Adoption Form %>
  <div class="bg-white py-16 px-6 lg:px-8">
    <div class="mx-auto max-w-3xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900">Start Your Adoption Today</h2>
        <p class="mt-4 text-lg text-gray-600">Fill in the form below and we'll be in touch shortly</p>
      </div>

      <% if (adoption_form = Panda::CMS::Form.find_by(name: "Adoption Enquiry")) %>
        <%= form_with url: "/forms/#{adoption_form.id}/submissions", method: :post, local: true, class: "space-y-6 bg-gray-50 rounded-2xl p-8" do |f| %>
          <% adoption_form.form_fields.active.order(:position).each do |field| %>
            <div>
              <%= label_tag field.name.parameterize.underscore, "#{field.name}#{field.required? ? ' *' : ''}", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <% case field.field_type %>
              <% when "text", "phone" %>
                <%= text_field_tag field.name.parameterize.underscore, nil,
                    class: "block w-full rounded-lg border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 px-4 py-3",
                    required: field.required?,
                    placeholder: field.placeholder,
                    autocomplete: "off" %>
              <% when "email" %>
                <%= email_field_tag field.name.parameterize.underscore, nil,
                    class: "block w-full rounded-lg border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 px-4 py-3",
                    required: field.required?,
                    placeholder: field.placeholder || "you@example.com",
                    autocomplete: "off" %>
              <% when "textarea" %>
                <%= text_area_tag field.name.parameterize.underscore, nil,
                    class: "block w-full rounded-lg border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 px-4 py-3",
                    rows: 4,
                    required: field.required?,
                    placeholder: field.placeholder %>
              <% when "select" %>
                <%= select_tag field.name.parameterize.underscore,
                    options_for_select([["Please select...", ""]] + (field.options || []).map { |o| [o, o] }),
                    class: "block w-full rounded-lg border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 px-4 py-3",
                    required: field.required? %>
              <% when "checkbox" %>
                <div class="flex items-start">
                  <%= check_box_tag field.name.parameterize.underscore, "1", false,
                      class: "h-5 w-5 rounded border-gray-300 text-green-600 focus:ring-green-500 mt-1",
                      required: field.required? %>
                  <label for="<%= field.name.parameterize.underscore %>" class="ml-3 text-sm text-gray-600">
                    <%= field.description || "Yes, this is a gift adoption" %>
                  </label>
                </div>
              <% end %>
            </div>
          <% end %>

          <div class="pt-4">
            <button type="submit" class="w-full rounded-lg bg-green-700 px-6 py-4 text-base font-semibold text-white shadow-sm hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition">
              <i class="fa-solid fa-heart mr-2"></i>
              Submit Adoption Enquiry
            </button>
          </div>

          <p class="text-xs text-gray-500 text-center">
            By submitting this form, you agree to our privacy policy. We'll contact you shortly to complete your adoption.
          </p>
        <% end %>
      <% end %>
    </div>
  </div>

  <%= yield %>
</main>

<%= render "shared/sanctuary_footer" %>
